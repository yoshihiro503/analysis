
<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module mathcomp.analysis.hoelder</title>
<meta name="description" content="Documentation of Coq module mathcomp.analysis.hoelder" />
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script src="https://cdn.jsdelivr.net/npm/markdown-it/dist/markdown-it.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-texmath/texmath.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="init()">

  <main>
    <div class="sidebar">
      <h2>Files</h2>
      
    </div>

  <div class="coq">

    <div class="content">
      <p><a href="./index.html">Top</a></p>
      <h1 class="title">Module mathcomp.analysis.hoelder</h1>
<span class="vernacular">From</span><span class="id"> HB</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> structures</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> all_ssreflect</span><span class="id"> ssralg</span><span class="id"> ssrnum</span><span class="id"> ssrint</span><span class="id"> interval</span><span class="id"> finmap</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> mathcomp_extra</span><span class="id"> boolp</span><span class="id"> classical_sets</span><span class="id"> functions</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> cardinality</span><span class="id"> fsbigop</span><span class="id"> signed</span><span class="id"> reals</span><span class="id"> ereal</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> topology</span><span class="id"> normedtype</span><span class="id"> sequences</span><span class="id"> real_interval</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> esum</span><span class="id"> measure</span><span class="id"> lebesgue_measure</span><span class="id"> lebesgue_integral</span>.<br/>
<span class="vernacular">From</span><span class="id"> mathcomp</span><span class="vernacular"> Require</span><span class="vernacular"> Import</span><span class="id"> numfun</span><span class="id"> exp</span><span class="id"> convex</span><span class="id"> itv</span>.<br/>
<br/>
<div class="ssrdoc md">
# Hoelder's Inequality

This file provides Hoelder's inequality.
```
          'N[mu]_p[f] := (\int[mu]_x (`|f x| `^ p)%:E) `^ p^-1
                         The corresponding definition is Lnorm.
```

</div>
<br/>
<span class="gallina-kwd">Set</span><span class="vernacular"> Implicit</span><span class="vernacular"> Arguments</span>.<br/>
<span class="vernacular">Unset</span><span class="vernacular"> Strict</span><span class="vernacular"> Implicit</span>.<br/>
<span class="vernacular">Unset</span><span class="vernacular"> Printing</span><span class="vernacular"> Implicit</span><span class="vernacular"> Defensive</span>.<br/>
<span class="vernacular">Import</span><span class="id"> Order</span>.<span class="id">TTheory</span><span class="id"> GRing</span>.<span class="id">Theory</span><span class="id"> Num</span>.<span class="id">Def</span><span class="id"> Num</span>.<span class="id">Theory</span>.<br/>
<span class="vernacular">Import</span><span class="id"> numFieldTopology</span>.<span class="vernacular">Exports</span>.<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> classical_set_scope</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ring_scope</span>.<br/>
<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N[ mu ]_ p [ F ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 5,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 36,</span><span class="id"> mu</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 10,</span><br/>
&nbsp;&nbsp;<span class="id">format</span> <span class="id">&quot;'[' ''N[' mu ]_ p '/  ' [ F ] ']'&quot;</span>).<br/>
<span class="vernacular">Reserved</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N_ p [ F ]&quot;</span><br/>
&nbsp;&nbsp;(<span class="gallina-kwd">at</span><span class="id"> level</span><span class="id"> 5,</span><span class="id"> F</span><span class="gallina-kwd"> at</span><span class="id"> level</span><span class="id"> 36,</span><span class="id"> format</span> <span class="id">&quot;'[' ''N_' p '/  ' [ F ] ']'&quot;</span>).<br/>
<br/>
<span class="vernacular">Declare</span><span class="vernacular"> Scope</span><span class="id"> Lnorm_scope</span>.<br/>
<br/>
<span class="id">HB</span>.<span class="id">lock</span><span class="vernacular"> Definition</span><span class="id"> Lnorm</span><span class="id"> {d}</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> measurableType</span><span class="id"> d}</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">mu</span><span class="id"> :</span><span class="id"> {measure</span><span class="id"> set</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> \bar</span><span class="id"> R}</span>) (<span class="id">p</span><span class="id"> :</span><span class="id"> \bar</span><span class="id"> R</span>) (<span class="id">f</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> R</span>)<span class="id"> :=</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">match</span><span class="id"> p</span><span class="gallina-kwd"> with</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> p%:E</span><span class="id"> =&gt;</span> (<span class="gallina-kwd">if</span><span class="id"> p</span><span class="id"> ==</span><span class="id"> 0%R</span><span class="gallina-kwd"> then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mu</span> (<span class="id">f</span><span class="id"> @^-1`</span> (<span class="id">setT</span><span class="id"> `\</span><span class="id"> 0%R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\int[mu]_x</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>)<span class="id"> `^</span><span class="id"> p^-1</span>)<span class="id">%E</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> +oo%E</span><span class="id"> =&gt;</span> (<span class="gallina-kwd">if</span><span class="id"> mu</span><span class="id"> [set:</span><span class="id"> T]</span><span class="id"> &gt;</span><span class="id"> 0</span><span class="gallina-kwd"> then</span><span class="id"> ess_sup</span><span class="id"> mu</span> (<span class="id">normr</span><span class="id"> \o</span><span class="id"> f</span>)<span class="gallina-kwd"> else</span><span class="id"> 0</span>)<span class="id">%E</span><br/>
&nbsp;&nbsp;<span class="id">|</span><span class="id"> -oo%E</span><span class="id"> =&gt;</span><span class="id"> 0%E</span><br/>
&nbsp;&nbsp;<span class="gallina-kwd">end</span>.<br/>
<span class="vernacular">Canonical</span><span class="id"> locked_Lnorm</span><span class="id"> :=</span><span class="id"> Unlockable</span><span class="id"> Lnorm</span>.<span class="id">unlock</span>.<br/>
<span class="vernacular">Arguments</span><span class="id"> Lnorm</span><span class="id"> {d</span><span class="id"> T</span><span class="id"> R}</span><span class="id"> mu</span><span class="id"> p</span><span class="id"> f</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> Lnorm_properties</span>.<br/>
<span class="vernacular">Context</span><span class="id"> d</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> measurableType</span><span class="id"> d}</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span>.<br/>
<span class="vernacular">Variable</span><span class="id"> mu</span><span class="id"> :</span><span class="id"> {measure</span><span class="id"> set</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> \bar</span><span class="id"> R}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ereal_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">p</span><span class="id"> :</span><span class="id"> \bar</span><span class="id"> R</span>) (<span class="id">f</span><span class="id"> g</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> R</span>) (<span class="id">r</span><span class="id"> :</span><span class="id"> R</span>).<br/>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N_ p [ f ]&quot;</span><span class="id"> :=</span> (<span class="id">Lnorm</span><span class="id"> mu</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Lnorm1</span><span class="id"> f</span><span class="id"> :</span><span class="id"> 'N_1[f]</span><span class="id"> =</span><span class="id"> \int[mu]_x</span><span class="id"> `|f</span><span class="id"> x|%:E</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> unlock</span><span class="id"> oner_eq0</span><span class="id"> invr1//</span><span class="id"> poweRe1//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> powRr1</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> integral_ge0</span><span class="id"> =&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> powRr1</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Lnorm_ge0</span><span class="id"> p</span><span class="id"> f</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;=</span><span class="id"> 'N_p[f]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">rewrite</span><span class="id"> unlock;</span><span class="id"> move:</span><span class="id"> p</span><span class="id"> =&gt;</span><span class="id"> [r/=|/=|//]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> ifPn</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> r0;</span><span class="id"> exact:</span><span class="id"> poweR_ge0</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> case:</span><span class="id"> ifPn</span><span class="id"> =&gt;</span><span class="id"> //</span><span class="id"> /ess_sup_ge0;</span><span class="id"> apply</span><span class="id"> =&gt;</span><span class="id"> t/=</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> eq_Lnorm</span><span class="id"> p</span><span class="id"> f</span><span class="id"> g</span><span class="id"> :</span><span class="id"> f</span><span class="id"> =1</span><span class="id"> g</span><span class="id"> -&gt;</span><span class="id"> 'N_p[f]</span><span class="id"> =</span><span class="id"> 'N_p[g]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> fg;</span><span class="id"> congr</span><span class="id"> Lnorm;</span><span class="id"> exact/funext</span>. Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Lnorm_eq0_eq0</span><span class="id"> r</span><span class="id"> f</span><span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> r</span>)<span class="id">%R</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_r%:E[f]</span><span class="id"> =</span><span class="id"> 0</span><span class="id"> -&gt;</span><span class="id"> ae_eq</span><span class="id"> mu</span><span class="id"> [set:</span><span class="id"> T]</span> (<span class="gallina-kwd">fun</span><span class="id"> t</span><span class="id"> =&gt;</span> (<span class="id">`|f</span><span class="id"> t|</span><span class="id"> `^</span><span class="id"> r</span>)<span class="id">%:E</span>) (<span class="id">cst</span><span class="id"> 0</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> r0</span><span class="id"> mf;</span><span class="id"> rewrite</span><span class="id"> unlock</span> (<span class="id">gt_eqF</span><span class="id"> r0</span>)<span class="id"> =&gt;</span><span class="id"> /poweR_eq0_eq0</span><span class="id"> fp</span>.<br/>
<span class="id">apply/ae_eq_integral_abs</span><span class="id"> =&gt;</span><span class="id"> //=</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@measurableT_comp</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span> (<span class="id">@powR</span><span class="id"> R</span><span class="id"> ^~</span><span class="id"> r</span>))<span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurableT_comp</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> ger0_norm</span><span class="id"> ?powR_ge0//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> fp//;</span><span class="id"> apply:</span><span class="id"> integral_ge0</span><span class="id"> =&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> powR_Lnorm</span><span class="id"> f</span><span class="id"> r</span><span class="id"> :</span><span class="id"> r</span><span class="id"> !=</span><span class="id"> 0%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_r%:E[f]</span><span class="id"> `^</span><span class="id"> r</span><span class="id"> =</span><span class="id"> \int[mu]_x</span> (<span class="id">`|</span><span class="id"> f</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> r</span>)<span class="id">%:E</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> r0;</span><span class="id"> rewrite</span><span class="id"> unlock</span> (<span class="id">negbTE</span><span class="id"> r0</span>)<span class="id"> -poweRrM</span><span class="id"> mulVf//</span><span class="id"> poweRe1//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> integral_ge0</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin//</span><span class="id"> powR_ge0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> Lnorm_properties</span>.<br/>
<br/>
<span class="id">#[global]</span><br/>
<span class="vernacular">Hint</span><span class="id"> Extern</span><span class="id"> 0</span> (<span class="id">0</span><span class="id"> &lt;=</span><span class="id"> Lnorm</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>)<span class="id"> =&gt;</span><span class="id"> solve</span><span class="id"> [apply:</span><span class="id"> Lnorm_ge0]</span><span class="id"> :</span><span class="id"> core</span>.<br/>
<br/>
<span class="vernacular">Notation</span> <span class="id">&quot;'N[ mu ]_ p [ f ]&quot;</span><span class="id"> :=</span> (<span class="id">Lnorm</span><span class="id"> mu</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> lnorm</span>.<br/>
<span class="vernacular">Context</span><span class="id"> d</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> measurableType</span><span class="id"> d}</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ereal_scope</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N_ p [ f ]&quot;</span><span class="id"> :=</span> (<span class="id">Lnorm</span><span class="id"> [the</span><span class="id"> measure</span><span class="id"> _</span><span class="id"> _</span><span class="id"> of</span><span class="id"> counting]</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> Lnorm_counting</span><span class="id"> p</span> (<span class="id">f</span><span class="id"> :</span><span class="id"> R^nat</span>)<span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_p%:E</span><span class="id"> [f]</span><span class="id"> =</span> (<span class="id">\sum_</span>(<span class="id">k</span><span class="id"> &lt;oo</span>) (<span class="id">`|</span><span class="id"> f</span><span class="id"> k</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>)<span class="id"> `^</span><span class="id"> p^-1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> p0;</span><span class="id"> rewrite</span><span class="id"> unlock</span><span class="id"> gt_eqF//</span><span class="id"> ge0_integral_count//</span><span class="id"> =&gt;</span><span class="id"> k</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> lnorm</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> hoelder</span>.<br/>
<span class="vernacular">Context</span><span class="id"> d</span><span class="id"> {T</span><span class="id"> :</span><span class="id"> measurableType</span><span class="id"> d}</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span>.<br/>
<span class="vernacular">Variable</span><span class="id"> mu</span><span class="id"> :</span><span class="id"> {measure</span><span class="id"> set</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> \bar</span><span class="id"> R}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ereal_scope</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">p</span><span class="id"> q</span><span class="id"> :</span><span class="id"> R</span>) (<span class="id">f</span><span class="id"> g</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> R</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> measurableT_comp_powR</span><span class="id"> f</span><span class="id"> p</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> [set:</span><span class="id"> T]</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> f</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%R</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@measurableT_comp</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span> (<span class="id">@powR</span><span class="id"> R</span><span class="id"> ^~</span><span class="id"> p</span>)). Qed.</div></details>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N_ p [ f ]&quot;</span><span class="id"> :=</span> (<span class="id">Lnorm</span><span class="id"> mu</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> integrable_powR</span><span class="id"> f</span><span class="id"> p</span><span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> [set:</span><span class="id"> T]</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> 'N_p%:E[f]</span><span class="id"> !=</span><span class="id"> +oo</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">mu</span>.<span class="id">-integrable</span><span class="id"> [set:</span><span class="id"> T]</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> p0</span><span class="id"> mf</span><span class="id"> foo;</span><span class="id"> apply/integrableP;</span><span class="id"> split</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span>.<br/>
&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurableT_comp</span>.<br/>
<span class="id">rewrite</span><span class="id"> ltey;</span><span class="id"> apply:</span><span class="id"> contra</span><span class="id"> foo</span>.<br/>
<span class="id">move=&gt;</span><span class="id"> /eqP/</span>(<span class="id">@eqy_poweR</span><span class="id"> _</span><span class="id"> _</span><span class="id"> p^-1</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> invr_gt0</span><span class="id"> =&gt;</span><span class="id"> /</span>(_<span class="id"> p0</span>)<span class="id"> &lt;-</span>.<br/>
<span class="id">rewrite</span><span class="id"> unlock</span> (<span class="id">gt_eqF</span><span class="id"> p0</span>)<span class="id">;</span><span class="id"> apply/eqP;</span><span class="id"> congr</span> (_<span class="id"> `^</span><span class="id"> _</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> apply/eq_integral</span><span class="id"> =&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> [RHS]gee0_abs//</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> hoelder0</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> q</span><span class="id"> :</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> g</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> q</span>)<span class="id">%R</span><span class="id"> -&gt;</span> (<span class="id">p^-1</span><span class="id"> +</span><span class="id"> q^-1</span><span class="id"> =</span><span class="id"> 1</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_p%:E[f]</span><span class="id"> =</span><span class="id"> 0</span><span class="id"> -&gt;</span><span class="id"> 'N_1[</span>(<span class="id">f</span><span class="id"> \*</span><span class="id"> g</span>)<span class="id">%R]</span> <span class="id"> &lt;=</span><span class="id"> 'N_p%:E[f]</span><span class="id"> *</span><span class="id"> 'N_q%:E[g]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> mf</span><span class="id"> mg</span><span class="id"> p0</span><span class="id"> q0</span><span class="id"> pq</span><span class="id"> f0;</span><span class="id"> rewrite</span><span class="id"> f0</span><span class="id"> mul0e</span><span class="id"> Lnorm1</span><span class="id"> [leLHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 0</span>)<span class="id">//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">ae_eq_integral</span> (<span class="id">cst</span><span class="id"> 0</span>))<span class="id"> =&gt;</span><span class="id"> [|//||//|];</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> integral0</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_funM</span>.<br/>
<span class="id">-</span><span class="id"> apply:</span><span class="id"> filterS</span> (<span class="id">Lnorm_eq0_eq0</span><span class="id"> p0</span><span class="id"> mf</span><span class="id"> f0</span>)<span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> /</span>(_<span class="id"> I</span>)<span class="id">[]</span><span class="id"> /powR_eq0_eq0</span><span class="id"> +</span><span class="id"> _</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> normrM</span><span class="id"> =&gt;</span><span class="id"> -&gt;;</span><span class="id"> rewrite</span><span class="id"> mul0r</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> normalized</span><span class="id"> p</span><span class="id"> f</span><span class="id"> x</span><span class="id"> :=</span><span class="id"> `|f</span><span class="id"> x|</span><span class="id"> /</span><span class="id"> fine</span><span class="id"> 'N_p%:E[f]</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> normalized_ge0</span><span class="id"> p</span><span class="id"> f</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;=</span><span class="id"> normalized</span><span class="id"> p</span><span class="id"> f</span><span class="id"> x</span>)<span class="id">%R</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /normalized</span><span class="id"> divr_ge0//</span><span class="id"> fine_ge0//</span><span class="id"> Lnorm_ge0</span>. Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> measurable_normalized</span><span class="id"> p</span><span class="id"> f</span><span class="id"> :</span><span class="id"> measurable_fun</span><span class="id"> [set:</span><span class="id"> T]</span><span class="id"> f</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> [set:</span><span class="id"> T]</span> (<span class="id">normalized</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> mf;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurableT_comp</span>. Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> integral_normalized</span><span class="id"> f</span><span class="id"> p</span><span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> 'N_p%:E[f]</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mu</span>.<span class="id">-integrable</span><span class="id"> [set:</span><span class="id"> T]</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>)<span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">\int[mu]_x</span> (<span class="id">normalized</span><span class="id"> p</span><span class="id"> f</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span><span class="id"> =</span><span class="id"> 1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> p0</span><span class="id"> fpos</span><span class="id"> ifp</span>.<br/>
<span class="id">transitivity</span> (<span class="id">\int[mu]_x</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> /</span><span class="id"> fine</span> (<span class="id">'N_p%:E[f]</span><span class="id"> `^</span><span class="id"> p</span>))<span class="id">%:E</span>).<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> t</span><span class="id"> _</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> powRM//;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> invr_ge0</span><span class="id"> fine_ge0//</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -[in</span><span class="id"> LHS]powR_inv1;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> fine_ge0</span><span class="id"> //</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> fine_poweR</span><span class="id"> powRAC</span><span class="id"> -powR_inv1</span><span class="id"> //</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">have</span><span class="id"> fp0</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> \int[mu]_x</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> unlock</span> (<span class="id">gt_eqF</span><span class="id"> p0</span>)<span class="gallina-kwd"> in</span><span class="id"> fpos</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> gt0_poweR</span><span class="id"> fpos;</span><span class="id"> rewrite</span><span class="id"> ?invr_gt0//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply</span><span class="id"> integral_ge0</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin;</span><span class="id"> exact:</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">rewrite</span><span class="id"> unlock</span> (<span class="id">gt_eqF</span><span class="id"> p0</span>)<span class="id"> -poweRrM</span><span class="id"> mulVf</span><span class="id"> ?</span>(<span class="id">gt_eqF</span><span class="id"> p0</span>)<span class="id">//</span> (<span class="id">poweRe1</span> (<span class="id">ltW</span><span class="id"> fp0</span>))<span class="id">//</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinM</span><span class="id"> muleC</span>.<br/>
<span class="id">have</span><span class="id"> foo</span><span class="id"> :</span><span class="id"> \int[mu]_x</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span><span class="id"> &lt;</span><span class="id"> +oo</span>.<br/>
&nbsp;&nbsp;<span class="id">move/integrableP:</span><span class="id"> ifp</span><span class="id"> =&gt;</span><span class="id"> -[_]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> gee0_abs//</span><span class="id"> ?lee_fin</span><span class="id"> ?powR_ge0//</span>.<br/>
<span class="id">rewrite</span><span class="id"> integralZl//;</span><span class="id"> apply/eqP;</span><span class="id"> rewrite</span><span class="id"> eqe_pdivrMl</span><span class="id"> ?mule1</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> fineK//</span><span class="id"> gt0_fin_numE</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> gt_eqF//</span><span class="id"> fine_gt0//</span><span class="id"> foo</span><span class="id"> andbT</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> hoelder</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> q</span><span class="id"> :</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> g</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> q</span>)<span class="id">%R</span><span class="id"> -&gt;</span> (<span class="id">p^-1</span><span class="id"> +</span><span class="id"> q^-1</span><span class="id"> =</span><span class="id"> 1</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;<span class="id">'N_1[</span>(<span class="id">f</span><span class="id"> \*</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> &lt;=</span><span class="id"> 'N_p%:E[f]</span><span class="id"> *</span><span class="id"> 'N_q%:E[g]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> mf</span><span class="id"> mg</span><span class="id"> p0</span><span class="id"> q0</span><span class="id"> pq</span>.<br/>
<span class="id">have</span><span class="id"> [f0|f0]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_p%:E[f]</span><span class="id"> 0%E;</span><span class="id"> first</span><span class="id"> exact:</span><span class="id"> hoelder0</span>.<br/>
<span class="id">have</span><span class="id"> [g0|g0]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_q%:E[g]</span><span class="id"> 0%E</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> muleC;</span><span class="id"> apply:</span><span class="id"> le_trans;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> hoelder0</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> rewrite</span><span class="id"> addrC</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> under</span><span class="id"> eq_Lnorm</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> /=</span><span class="id"> mulrC</span>.<br/>
<span class="id">have</span><span class="id"> {f0}fpos</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> 'N_p%:E[f]</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt0e</span><span class="id"> f0</span><span class="id"> Lnorm_ge0</span>.<br/>
<span class="id">have</span><span class="id"> {g0}gpos</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> 'N_q%:E[g]</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt0e</span><span class="id"> g0</span><span class="id"> Lnorm_ge0</span>.<br/>
<span class="id">have</span><span class="id"> [foo|foo]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_p%:E[f]</span><span class="id"> +oo%E;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> foo</span><span class="id"> gt0_mulye</span><span class="id"> ?leey</span>.<br/>
<span class="id">have</span><span class="id"> [goo|goo]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_q%:E[g]</span><span class="id"> +oo%E;</span><span class="id"> first</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> goo</span><span class="id"> gt0_muley</span><span class="id"> ?leey</span>.<br/>
<span class="id">pose</span><span class="id"> F</span><span class="id"> :=</span><span class="id"> normalized</span><span class="id"> p</span><span class="id"> f;</span><span class="id"> pose</span><span class="id"> G</span><span class="id"> :=</span><span class="id"> normalized</span><span class="id"> q</span><span class="id"> g</span>.<br/>
<span class="id">rewrite</span><span class="id"> [leLHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 'N_1[</span>(<span class="id">F</span><span class="id"> \*</span><span class="id"> G</span>)<span class="id">%R]</span><span class="id"> *</span><span class="id"> 'N_p%:E[f]</span><span class="id"> *</span><span class="id"> 'N_q%:E[g]</span>)<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> !Lnorm1;</span><span class="id"> under</span><span class="id"> [in</span><span class="id"> RHS]eq_integral</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> /F</span><span class="id"> /G</span><span class="id"> /normalized/=</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ger0_norm;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> mulr_ge0</span><span class="id"> ?divr_ge0</span><span class="id"> ?fine_ge0</span><span class="id"> ?Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> mulrACA</span><span class="id"> -normrM</span><span class="id"> EFinM;</span><span class="id"> over</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ge0_integralZr//;</span><span class="id"> last</span><span class="id"> 2</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_funM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> invr_ge0</span><span class="id"> fine_ge0//</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -!muleA</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> *</span><span class="id"> X]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 1</span>)<span class="id"> ?mule1//</span><span class="id"> EFinM</span><span class="id"> muleACA</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span> (_<span class="id"> :</span><span class="id"> _</span><span class="id"> *</span><span class="id"> 'N_p%:E[f]</span><span class="id"> =</span><span class="id"> 1</span>)<span class="id"> ?mul1e;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -[X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> *</span><span class="id"> X]fineK;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge0_fin_numE</span><span class="id"> ?ltey//</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -EFinM</span><span class="id"> mulVr</span><span class="id"> ?unitfE</span><span class="id"> ?gt_eqF//</span><span class="id"> fine_gt0//</span><span class="id"> fpos/=</span><span class="id"> ltey</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -[X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> *</span><span class="id"> X]fineK;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge0_fin_numE</span><span class="id"> ?ltey//</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> -EFinM</span><span class="id"> mulVr</span><span class="id"> ?unitfE</span><span class="id"> ?gt_eqF//</span><span class="id"> fine_gt0//</span><span class="id"> gpos/=</span><span class="id"> ltey</span>.<br/>
<span class="id">rewrite</span><span class="id"> -</span>(<span class="id">mul1e</span> (<span class="id">'N_p%:E[f]</span><span class="id"> *</span><span class="id"> _</span>))<span class="id"> -muleA</span><span class="id"> lee_pmul</span><span class="id"> ?mule_ge0</span><span class="id"> ?Lnorm_ge0//</span>.<br/>
<span class="id">rewrite</span><span class="id"> [leRHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> \int[mu]_x</span> (<span class="id">F</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> /</span><span class="id"> p</span><span class="id"> +</span><span class="id"> G</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> q</span><span class="id"> /</span><span class="id"> q</span>)<span class="id">%:E</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> Lnorm1</span><span class="id"> ae_ge0_le_integral</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> measurable_funM</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_normalized</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> addr_ge0//</span><span class="id"> divr_ge0//</span><span class="id"> ?powR_ge0//</span><span class="id"> ltW</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funD</span><span class="id"> =&gt;</span><span class="id"> //;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> measurable_funM</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span><span class="id"> =&gt;</span><span class="id"> //;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurable_normalized</span>.<br/>
&nbsp;&nbsp;<span class="id">apply/aeW</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> ger0_norm</span><span class="id"> ?conjugate_powR</span><span class="id"> ?normalized_ge0//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> mulr_ge0//</span><span class="id"> normalized_ge0</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinD</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_integralD//;</span><span class="id"> last</span><span class="id"> 4</span><span class="id"> first</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> ?invr_ge0</span><span class="id"> ?powR_ge0//</span><span class="id"> ltW</span>.<br/>
<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_normalized</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> ?invr_ge0</span><span class="id"> ?powR_ge0//</span><span class="id"> ltW</span>.<br/>
<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_normalized</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinM</span>.<br/>
<span class="id">rewrite</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> X</span><span class="id"> +</span><span class="id"> _]ge0_integralZr//;</span><span class="id"> last</span><span class="id"> 3</span><span class="id"> first</span>.<br/>
<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_normalized</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> invr_ge0</span><span class="id"> ltW</span>.<br/>
<span class="id">under</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> +</span><span class="id"> X]eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinM</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_integralZr//;</span><span class="id"> last</span><span class="id"> 3</span><span class="id"> first</span>.<br/>
<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> measurableT_comp_powR</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_normalized</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> invr_ge0</span><span class="id"> ltW</span>.<br/>
<span class="id">rewrite</span><span class="id"> integral_normalized//;</span><span class="id"> last</span><span class="id"> exact:</span><span class="id"> integrable_powR</span>.<br/>
<span class="id">rewrite</span><span class="id"> integral_normalized//;</span><span class="id"> last</span><span class="id"> exact:</span><span class="id"> integrable_powR</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> 2!mul1e</span><span class="id"> -EFinD</span><span class="id"> pq</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> hoelder</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> hoelder2</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ring_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> hoelder2</span> (<span class="id">a1</span><span class="id"> a2</span><span class="id"> b1</span><span class="id"> b2</span><span class="id"> :</span><span class="id"> R</span>) (<span class="id">p</span><span class="id"> q</span><span class="id"> :</span><span class="id"> R</span>)<span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">0</span><span class="id"> &lt;=</span><span class="id"> a1</span><span class="id"> -&gt;</span><span class="id"> 0</span><span class="id"> &lt;=</span><span class="id"> a2</span><span class="id"> -&gt;</span><span class="id"> 0</span><span class="id"> &lt;=</span><span class="id"> b1</span><span class="id"> -&gt;</span><span class="id"> 0</span><span class="id"> &lt;=</span><span class="id"> b2</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span><span class="id"> -&gt;</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> q</span><span class="id"> -&gt;</span><span class="id"> p^-1</span><span class="id"> +</span><span class="id"> q^-1</span><span class="id"> =</span><span class="id"> 1</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">a1</span><span class="id"> *</span><span class="id"> b1</span><span class="id"> +</span><span class="id"> a2</span><span class="id"> *</span><span class="id"> b2</span><span class="id"> &lt;=</span> (<span class="id">a1</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> a2</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id"> `^</span><span class="id"> p^-1</span><span class="id"> *</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">b1</span><span class="id"> `^</span><span class="id"> q</span><span class="id"> +</span><span class="id"> b2</span><span class="id"> `^</span><span class="id"> q</span>)<span class="id"> `^</span><span class="id"> q^-1</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> a10</span><span class="id"> a20</span><span class="id"> b10</span><span class="id"> b20</span><span class="id"> p0</span><span class="id"> q0</span><span class="id"> pq</span>.<br/>
<span class="id">pose</span><span class="id"> f</span><span class="id"> a</span><span class="id"> b</span><span class="id"> n</span><span class="id"> :</span><span class="id"> R</span><span class="id"> :=</span><span class="gallina-kwd"> match</span><span class="id"> n</span><span class="gallina-kwd"> with</span><span class="id"> 0%nat</span><span class="id"> =&gt;</span><span class="id"> a</span><span class="id"> |</span><span class="id"> 1%nat</span><span class="id"> =&gt;</span><span class="id"> b</span><span class="id"> |</span><span class="id"> _</span><span class="id"> =&gt;</span><span class="id"> 0</span><span class="gallina-kwd"> end</span>.<br/>
<span class="id">have</span><span class="id"> mf</span><span class="id"> a</span><span class="id"> b</span><span class="id"> :</span><span class="id"> measurable_fun</span><span class="id"> setT</span> (<span class="id">f</span><span class="id"> a</span><span class="id"> b</span>)<span class="gallina-kwd"> by</span><span class="id"> []</span>.<br/>
<span class="id">have</span><span class="id"> :=</span><span class="id"> hoelder</span><span class="id"> [the</span><span class="id"> measure</span><span class="id"> _</span><span class="id"> _</span><span class="id"> of</span><span class="id"> counting]</span> (<span class="id">mf</span><span class="id"> a1</span><span class="id"> a2</span>) (<span class="id">mf</span><span class="id"> b1</span><span class="id"> b2</span>)<span class="id"> p0</span><span class="id"> q0</span><span class="id"> pq</span>.<br/>
<span class="id">rewrite</span><span class="id"> !Lnorm_counting//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">nneseries_split</span><span class="id"> 0</span><span class="id"> 2</span>)<span class="id">;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> k;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">rewrite</span><span class="id"> add0n</span><span class="id"> ereal_series_cond</span><span class="id"> eseries0</span><span class="id"> ?adde0;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> [//|]</span><span class="id"> [//|n</span><span class="id"> _];</span><span class="id"> rewrite</span><span class="id"> /f</span><span class="id"> /=</span><span class="id"> mulr0</span><span class="id"> normr0</span><span class="id"> powR0</span>.<br/>
<span class="id">rewrite</span><span class="id"> big_mkord</span><span class="id"> 2!big_ord_recr/=</span><span class="id"> big_ord0</span><span class="id"> add0e</span>.<br/>
<span class="id">rewrite</span><span class="id"> powRr1</span><span class="id"> ?normr_ge0</span><span class="id"> ?powRr1</span><span class="id"> ?normr_ge0//</span>.<br/>
<span class="id">rewrite</span> (<span class="id">nneseries_split</span><span class="id"> 0</span><span class="id"> 2</span>)<span class="id">;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> k;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">rewrite</span><span class="id"> ereal_series_cond</span><span class="id"> eseries0</span><span class="id"> ?adde0;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> [//|]</span><span class="id"> [//|n</span><span class="id"> _];</span><span class="id"> rewrite</span><span class="id"> /f</span><span class="id"> /=</span><span class="id"> normr0</span><span class="id"> powR0//</span><span class="id"> gt_eqF</span>.<br/>
<span class="id">rewrite</span><span class="id"> big_mkord</span><span class="id"> 2!big_ord_recr</span><span class="id"> /=</span><span class="id"> big_ord0</span><span class="id"> add0e</span><span class="id"> -EFinD</span><span class="id"> poweR_EFin</span>.<br/>
<span class="id">rewrite</span> (<span class="id">nneseries_split</span><span class="id"> 0</span><span class="id"> 2</span>)<span class="id">;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> k;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">rewrite</span><span class="id"> ereal_series_cond</span><span class="id"> eseries0</span><span class="id"> ?adde0;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> move=&gt;</span><span class="id"> [//|]</span><span class="id"> [//|n</span><span class="id"> _];</span><span class="id"> rewrite</span><span class="id"> /f</span><span class="id"> /=</span><span class="id"> normr0</span><span class="id"> powR0//</span><span class="id"> gt_eqF</span>.<br/>
<span class="id">rewrite</span><span class="id"> big_mkord</span><span class="id"> 2!big_ord_recr</span><span class="id"> /=</span><span class="id"> big_ord0</span><span class="id"> add0e</span><span class="id"> -EFinD</span><span class="id"> poweR_EFin</span>.<br/>
<span class="id">rewrite</span><span class="id"> -EFinM</span><span class="id"> invr1</span><span class="id"> powRr1;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> addr_ge0</span>.<br/>
<span class="id">do</span><span class="id"> 2</span> (<span class="id">rewrite</span><span class="id"> ger0_norm;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> mulr_ge0</span>).<br/>
<span class="gallina-kwd">by</span><span class="id"> do</span><span class="id"> 4</span> (<span class="id">rewrite</span><span class="id"> ger0_norm;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> []</span>).<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> hoelder2</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> convex_powR</span>.<br/>
<span class="vernacular">Context</span><span class="id"> {R</span><span class="id"> :</span><span class="id"> realType}</span>.<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ring_scope</span>.<br/>
<br/>
<span class="vernacular">Lemma</span><span class="id"> convex_powR</span><span class="id"> p</span><span class="id"> :</span><span class="id"> 1</span><span class="id"> &lt;=</span><span class="id"> p</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">convex_function</span><span class="id"> `[0,</span><span class="id"> +oo[%classic</span> (<span class="id">@powR</span><span class="id"> R</span><span class="id"> ^~</span><span class="id"> p</span>).<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> p1</span><span class="id"> t</span><span class="id"> x</span><span class="id"> y</span><span class="id"> /[!inE]</span><span class="id"> /=</span><span class="id"> /[!in_itv]</span><span class="id"> /=</span><span class="id"> /[!andbT]</span><span class="id"> x_ge0</span><span class="id"> y_ge0</span>.<br/>
<span class="id">have</span><span class="id"> p0</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> p</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">lt_le_trans</span><span class="id"> _</span><span class="id"> p1</span>).<br/>
<span class="id">rewrite</span><span class="id"> !convRE;</span><span class="id"> set</span><span class="id"> w1</span><span class="id"> :=</span><span class="id"> `1-</span>(<span class="id">t%:inum</span>)<span class="id">;</span><span class="id"> set</span><span class="id"> w2</span><span class="id"> :=</span><span class="id"> t%:inum</span>.<br/>
<span class="id">have</span><span class="id"> [-&gt;|w10]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> w1</span><span class="id"> 0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> !mul0r</span><span class="id"> !add0r;</span><span class="id"> have</span><span class="id"> [-&gt;|w20]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> w2</span><span class="id"> 0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !mul0r</span><span class="id"> powR0//</span><span class="id"> gt_eqF</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> ge1r_powRZ//</span><span class="id"> /w2</span><span class="id"> lt_neqAle</span><span class="id"> eq_sym</span><span class="id"> w20/=;</span><span class="id"> apply/andP</span>.<br/>
<span class="id">have</span><span class="id"> [-&gt;|w20]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> w2</span><span class="id"> 0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !mul0r</span><span class="id"> !addr0</span><span class="id"> ge1r_powRZ//</span><span class="id"> onem_le1//</span><span class="id"> andbT</span><span class="id"> lt0r</span><span class="id"> w10</span><span class="id"> onem_ge0</span>.<br/>
<span class="id">have</span><span class="id"> [-&gt;|p_neq1]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> p</span><span class="id"> 1</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !powRr1//</span><span class="id"> addr_ge0//</span><span class="id"> mulr_ge0//</span><span class="id"> /w2</span><span class="id"> ?onem_ge0</span>.<br/>
<span class="id">have</span><span class="id"> {p_neq1}</span><span class="id"> {}p1</span><span class="id"> :</span><span class="id"> 1</span><span class="id"> &lt;</span><span class="id"> p</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> lt_neqAle</span><span class="id"> eq_sym</span><span class="id"> p_neq1</span>.<br/>
<span class="id">pose</span><span class="id"> q</span><span class="id"> :=</span><span class="id"> p</span><span class="id"> /</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>).<br/>
<span class="id">have</span><span class="id"> q1</span><span class="id"> :</span><span class="id"> 1</span><span class="id"> &lt;=</span><span class="id"> q</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> /q</span><span class="id"> ler_pdivlMr//</span><span class="id"> ?mul1r</span><span class="id"> ?gerBl//</span><span class="id"> subr_gt0</span>.<br/>
<span class="id">have</span><span class="id"> q0</span><span class="id"> :</span><span class="id"> 0</span><span class="id"> &lt;</span><span class="id"> q</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span> (<span class="id">lt_le_trans</span><span class="id"> _</span><span class="id"> q1</span>).<br/>
<span class="id">have</span><span class="id"> pq1</span><span class="id"> :</span><span class="id"> p^-1</span><span class="id"> +</span><span class="id"> q^-1</span><span class="id"> =</span><span class="id"> 1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> /q</span><span class="id"> invf_div</span><span class="id"> -{1}</span>(<span class="id">div1r</span><span class="id"> p</span>)<span class="id"> -mulrDl</span><span class="id"> addrCA</span><span class="id"> subrr</span><span class="id"> addr0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> mulfV//</span><span class="id"> gt_eqF</span>.<br/>
<span class="id">rewrite</span><span class="id"> -</span>(<span class="id">@powRr1</span><span class="id"> _</span> (<span class="id">w1</span><span class="id"> *</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> w2</span><span class="id"> *</span><span class="id"> y</span><span class="id"> `^</span><span class="id"> p</span>))<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> addr_ge0//</span><span class="id"> mulr_ge0//</span><span class="id"> ?powR_ge0//</span><span class="id"> /w2</span><span class="id"> ?onem_ge0//</span><span class="id"> itv_ge0</span>.<br/>
<span class="id">have</span><span class="id"> -&gt;</span><span class="id"> :</span><span class="id"> 1</span><span class="id"> =</span><span class="id"> p^-1</span><span class="id"> *</span><span class="id"> p</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> mulVf</span><span class="id"> ?gt_eqF</span>.<br/>
<span class="id">rewrite</span><span class="id"> powRrM</span> (<span class="id">ge0_ler_powR</span> (<span class="id">le_trans</span><span class="id"> _</span> (<span class="id">ltW</span><span class="id"> p1</span>)))<span class="id">//</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> nnegrE</span><span class="id"> addr_ge0//</span><span class="id"> mulr_ge0</span><span class="id"> /w2</span><span class="id"> ?onem_ge0</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> nnegrE</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">have</span><span class="id"> -&gt;</span><span class="id"> :</span><span class="id"> w1</span><span class="id"> *</span><span class="id"> x</span><span class="id"> +</span><span class="id"> w2</span><span class="id"> *</span><span class="id"> y</span><span class="id"> =</span><span class="id"> w1</span><span class="id"> `^</span> (<span class="id">p^-1</span>)<span class="id"> *</span><span class="id"> w1</span><span class="id"> `^</span> (<span class="id">q^-1</span>)<span class="id"> *</span><span class="id"> x</span><span class="id"> +</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">w2</span><span class="id"> `^</span> (<span class="id">p^-1</span>)<span class="id"> *</span><span class="id"> w2</span><span class="id"> `^</span> (<span class="id">q^-1</span>)<span class="id"> *</span><span class="id"> y</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -!powRD</span><span class="id"> pq1;</span><span class="id"> [|exact/implyP</span>..<span class="id">]</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> !powRr1//</span><span class="id"> /w2</span><span class="id"> ?onem_ge0</span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_trans</span><span class="id"> _</span><span class="id"> _</span> ((<span class="id">w1</span><span class="id"> *</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> w2</span><span class="id"> *</span><span class="id"> y</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id"> `^</span> (<span class="id">p^-1</span>)<span class="id"> *</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">w1</span><span class="id"> +</span><span class="id"> w2</span>)<span class="id"> `^</span><span class="id"> q^-1</span>)).<br/>
&nbsp;&nbsp;<span class="id">pose</span><span class="id"> a1</span><span class="id"> :=</span><span class="id"> w1</span><span class="id"> `^</span><span class="id"> p^-1</span><span class="id"> *</span><span class="id"> x</span>.<span class="id"> pose</span><span class="id"> a2</span><span class="id"> :=</span><span class="id"> w2</span><span class="id"> `^</span><span class="id"> p^-1</span><span class="id"> *</span><span class="id"> y</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span><span class="id"> b1</span><span class="id"> :=</span><span class="id"> w1</span><span class="id"> `^</span><span class="id"> q^-1</span>.<span class="id"> pose</span><span class="id"> b2</span><span class="id"> :=</span><span class="id"> w2</span><span class="id"> `^</span><span class="id"> q^-1</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span><span class="id"> :</span><span class="id"> a1</span><span class="id"> *</span><span class="id"> b1</span><span class="id"> +</span><span class="id"> a2</span><span class="id"> *</span><span class="id"> b2</span><span class="id"> &lt;=</span> (<span class="id">a1</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> a2</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id"> `^</span><span class="id"> p^-1</span><span class="id"> *</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">b1</span><span class="id"> `^</span><span class="id"> q</span><span class="id"> +</span><span class="id"> b2</span><span class="id"> `^</span><span class="id"> q</span>)<span class="id"> `^</span><span class="id"> q^-1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply:</span><span class="id"> hoelder2</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> rewrite</span><span class="id"> ?mulr_ge0</span><span class="id"> ?powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ?powRM</span><span class="id"> ?powR_ge0</span><span class="id"> -?powRrM</span><span class="id"> ?mulVf</span><span class="id"> ?powRr1</span><span class="id"> ?gt_eqF</span><span class="id"> ?onem_ge0/w2//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> mulrAC</span> (<span class="id">mulrAC</span><span class="id"> _</span><span class="id"> y</span>)<span class="id"> =&gt;</span><span class="id"> /le_trans;</span><span class="id"> exact</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> {2}/w1</span><span class="id"> {2}/w2</span><span class="id"> subrK</span><span class="id"> powR1</span><span class="id"> mulr1</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> convex_powR</span>.<br/>
<br/>
<span class="vernacular">Section</span><span class="id"> minkowski</span>.<br/>
<span class="vernacular">Context</span><span class="id"> d</span> (<span class="id">T</span><span class="id"> :</span><span class="id"> measurableType</span><span class="id"> d</span>) (<span class="id">R</span><span class="id"> :</span><span class="id"> realType</span>).<br/>
<span class="vernacular">Variable</span><span class="id"> mu</span><span class="id"> :</span><span class="id"> {measure</span><span class="id"> set</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> \bar</span><span class="id"> R}</span>.<br/>
<span class="vernacular">Implicit</span><span class="id"> Types</span> (<span class="id">f</span><span class="id"> g</span><span class="id"> :</span><span class="id"> T</span><span class="id"> -&gt;</span><span class="id"> R</span>) (<span class="id">p</span><span class="id"> :</span><span class="id"> R</span>).<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> convex_powR_abs_half</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> x</span><span class="id"> :</span><span class="id"> 1</span><span class="id"> &lt;=</span><span class="id"> p</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">`|</span><span class="id"> 2^-1</span><span class="id"> *</span><span class="id"> f</span><span class="id"> x</span><span class="id"> +</span><span class="id"> 2^-1</span><span class="id"> *</span><span class="id"> g</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> &lt;=</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id">2^-1</span><span class="id"> *</span><span class="id"> `|</span><span class="id"> f</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> 2^-1</span><span class="id"> *</span><span class="id"> `|</span><span class="id"> g</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> p1;</span><span class="id"> rewrite</span> (<span class="id">@le_trans</span><span class="id"> _</span><span class="id"> _</span> ((<span class="id">2^-1</span><span class="id"> *</span><span class="id"> `|</span><span class="id"> f</span><span class="id"> x</span><span class="id"> |</span><span class="id"> +</span><span class="id"> 2^-1</span><span class="id"> *</span><span class="id"> `|</span><span class="id"> g</span><span class="id"> x</span><span class="id"> |</span>)<span class="id"> `^</span><span class="id"> p</span>))<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ge0_ler_powR</span><span class="id"> ?nnegrE</span><span class="id"> ?</span>(<span class="id">le_trans</span><span class="id"> _</span><span class="id"> p1</span>)<span class="id">//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">le_trans</span> (<span class="id">ler_normD</span><span class="id"> _</span><span class="id"> _</span>))<span class="id">//</span><span class="id"> 2!normrM</span><span class="id"> ger0_norm</span>.<br/>
<span class="id">rewrite</span><span class="id"> {1</span><span class="id"> 3}</span>(_<span class="id"> :</span><span class="id"> 2^-1</span><span class="id"> =</span><span class="id"> 1</span><span class="id"> -</span><span class="id"> 2^-1</span>)<span class="id">;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> {2}</span>(<span class="id">splitr</span><span class="id"> 1</span>)<span class="id"> div1r</span><span class="id"> addrK</span>.<br/>
<span class="id">rewrite</span> (<span class="id">@convex_powR</span><span class="id"> _</span><span class="id"> _</span><span class="id"> p1</span> (<span class="id">@Itv</span>.<span class="id">mk</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<span class="id"> ?inE/=</span><span class="id"> ?in_itv/=</span><span class="id"> ?normr_ge0//</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> /Itv</span>.<span class="id">itv_cond/=</span><span class="id"> in_itv/=</span><span class="id"> invr_ge0</span><span class="id"> ler0n</span><span class="id"> invf_le1</span><span class="id"> ?ler1n</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> measurableT_comp_powR</span><span class="id"> f</span><span class="id"> p</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> f</span><span class="id"> x</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%R</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id"> exact:</span> (<span class="id">@measurableT_comp</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span> (<span class="id">@powR</span><span class="id"> R</span><span class="id"> ^~</span><span class="id"> p</span>)). Qed.</div></details>
<br/>
<span class="vernacular">Local</span><span class="vernacular"> Notation</span> <span class="id">&quot;'N_ p [ f ]&quot;</span><span class="id"> :=</span> (<span class="id">Lnorm</span><span class="id"> mu</span><span class="id"> p</span><span class="id"> f</span>).<br/>
<span class="vernacular">Local</span><span class="vernacular"> Open</span><span class="vernacular"> Scope</span><span class="id"> ereal_scope</span>.<br/>
<br/>
<span class="vernacular">Let</span><span class="id"> minkowski1</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> :</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> g</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_1[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> &lt;=</span><span class="id"> 'N_1[f]</span><span class="id"> +</span><span class="id"> 'N_1[g]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> mf</span><span class="id"> mg</span>.<br/>
<span class="id">rewrite</span><span class="id"> !Lnorm1</span><span class="id"> -ge0_integralD//;</span><span class="id"> [|by</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span>..<span class="id">]</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_le_integral//</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> do</span><span class="id"> 2</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurable_funD</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> apply/measurableT_comp/measurable_funD;</span><span class="id"> exact/measurableT_comp</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> ler_normD</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Let</span><span class="id"> minkowski_lty</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> g</span><span class="id"> -&gt;</span> (<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_p%:E[f]</span><span class="id"> &lt;</span><span class="id"> +oo</span><span class="id"> -&gt;</span><span class="id"> 'N_p%:E[g]</span><span class="id"> &lt;</span><span class="id"> +oo</span><span class="id"> -&gt;</span><span class="id"> 'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> &lt;</span><span class="id"> +oo</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> mf</span><span class="id"> mg</span><span class="id"> p1</span><span class="id"> Nfoo</span><span class="id"> Ngoo</span>.<br/>
<span class="id">have</span><span class="id"> p0</span><span class="id"> :</span><span class="id"> p</span><span class="id"> !=</span><span class="id"> 0%R</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> gt_eqF//</span> (<span class="id">lt_le_trans</span><span class="id"> _</span><span class="id"> p1</span>).<br/>
<span class="id">have</span><span class="id"> h</span><span class="id"> x</span><span class="id"> :</span> (<span class="id">`|</span><span class="id"> f</span><span class="id"> x</span><span class="id"> +</span><span class="id"> g</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> &lt;=</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">2</span><span class="id"> `^</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>)<span class="id"> *</span> (<span class="id">`|</span><span class="id"> f</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> `|</span><span class="id"> g</span><span class="id"> x</span><span class="id"> |</span><span class="id"> `^</span><span class="id"> p</span>))<span class="id">%R</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span><span class="id"> :=</span><span class="id"> convex_powR_abs_half</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> 2</span><span class="id"> *</span><span class="id"> f</span><span class="id"> x</span>)<span class="id">%R</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> 2</span><span class="id"> *</span><span class="id"> g</span><span class="id"> x</span>)<span class="id">%R</span><span class="id"> x</span><span class="id"> p1</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> !normrM</span> (<span class="id">@ger0_norm</span><span class="id"> _</span><span class="id"> 2</span>)<span class="id">//</span><span class="id"> !mulrA</span><span class="id"> mulVf//</span><span class="id"> !mul1r</span><span class="id"> =&gt;</span><span class="id"> /le_trans;</span><span class="id"> apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> !powRM//</span><span class="id"> !mulrA</span><span class="id"> -powR_inv1//</span><span class="id"> -powRD</span><span class="id"> ?pnatr_eq0</span><span class="id"> ?implybT//</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span> (<span class="id">addrC</span><span class="id"> _</span><span class="id"> p</span>)<span class="id"> -mulrDr</span>.<br/>
<span class="id">rewrite</span><span class="id"> unlock</span> (<span class="id">gt_eqF</span> (<span class="id">lt_le_trans</span><span class="id"> _</span><span class="id"> p1</span>))<span class="id">//</span><span class="id"> poweR_lty//</span>.<br/>
<span class="id">pose</span><span class="id"> x</span><span class="id"> :=</span><span class="id"> \int[mu]_x</span> (<span class="id">2</span><span class="id"> `^</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>)<span class="id"> *</span> (<span class="id">`|f</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> +</span><span class="id"> `|g</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>))<span class="id">%:E</span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_lt_trans</span><span class="id"> _</span><span class="id"> _</span><span class="id"> x</span>).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ge0_le_integral//=</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply/measurable_EFinP/measurableT_comp_powR/measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> t</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0</span><span class="id"> ?addr_ge0</span><span class="id"> ?powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> apply/measurable_EFinP/measurable_funM/measurable_funD</span><span class="id"> =&gt;</span><span class="id"> //;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span>.<br/>
<span class="id">rewrite</span><span class="id"> {}/x;</span><span class="id"> under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinM</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_integralZl_EFin</span><span class="id"> ?powR_ge0//;</span><span class="id"> last</span><span class="id"> 2</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> addr_ge0//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> apply/measurable_EFinP/measurable_funD</span><span class="id"> =&gt;</span><span class="id"> //;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp</span>.<br/>
<span class="id">rewrite</span><span class="id"> lte_mul_pinfty</span><span class="id"> ?lee_fin</span><span class="id"> ?powR_ge0//</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> EFinD</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_integralD//;</span><span class="id"> last</span><span class="id"> 4</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> exact/measurable_EFinP/measurableT_comp_powR/measurableT_comp</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> exact/measurable_EFinP/measurableT_comp_powR/measurableT_comp</span>.<br/>
<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lte_add_pinfty//</span><span class="id"> -powR_Lnorm</span><span class="id"> ?</span>(<span class="id">gt_eqF</span> (<span class="id">lt_trans</span><span class="id"> _</span><span class="id"> p1</span>))<span class="id">//</span><span class="id"> poweR_lty</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">Lemma</span><span class="id"> minkowski</span><span class="id"> f</span><span class="id"> g</span><span class="id"> p</span><span class="id"> :</span><br/>
&nbsp;&nbsp;<span class="id">measurable_fun</span><span class="id"> setT</span><span class="id"> f</span><span class="id"> -&gt;</span><span class="id"> measurable_fun</span><span class="id"> setT</span><span class="id"> g</span><span class="id"> -&gt;</span> (<span class="id">1</span><span class="id"> &lt;=</span><span class="id"> p</span>)<span class="id">%R</span><span class="id"> -&gt;</span><br/>
&nbsp;&nbsp;<span class="id">'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> &lt;=</span><span class="id"> 'N_p%:E[f]</span><span class="id"> +</span><span class="id"> 'N_p%:E[g]</span>.<br/>
<details>
<summary class="toggleproof">Proof.</summary>
<div class="proofscript">
<span class="id">move=&gt;</span><span class="id"> mf</span><span class="id"> mg;</span><span class="id"> rewrite</span><span class="id"> le_eqVlt</span><span class="id"> =&gt;</span><span class="id"> /predU1P[&lt;-|p1];</span><span class="id"> first</span><span class="id"> exact:</span><span class="id"> minkowski1</span>.<br/>
<span class="id">have</span><span class="id"> [-&gt;|Nfoo]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_p%:E[f]</span><span class="id"> +oo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> addye</span><span class="id"> ?leey//</span><span class="id"> -ltNye</span> (<span class="id">lt_le_trans</span><span class="id"> _</span> (<span class="id">Lnorm_ge0</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
<span class="id">have</span><span class="id"> [-&gt;|Ngoo]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_p%:E[g]</span><span class="id"> +oo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> addey</span><span class="id"> ?leey//</span><span class="id"> -ltNye</span> (<span class="id">lt_le_trans</span><span class="id"> _</span> (<span class="id">Lnorm_ge0</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
<span class="id">have</span><span class="id"> Nfgoo</span><span class="id"> :</span><span class="id"> 'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> &lt;</span><span class="id"> +oo</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> minkowski_lty//</span><span class="id"> ?ltW//</span><span class="id"> ltey;</span><span class="id"> [exact:</span><span class="id"> Nfoo|exact:</span><span class="id"> Ngoo]</span>.<br/>
<span class="id">suff</span><span class="id"> :</span><span class="id"> 'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> &lt;=</span> (<span class="id">'N_p%:E[f]</span><span class="id"> +</span><span class="id"> 'N_p%:E[g]</span>)<span class="id"> *</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> `^</span><span class="id"> p</span><span class="id"> *</span> (<span class="id">fine</span><span class="id"> 'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span>)<span class="id">^-1%:E</span>.<br/>
&nbsp;&nbsp;<span class="id">have</span><span class="id"> [-&gt;</span><span class="id"> _|Nfg0]</span><span class="id"> :=</span><span class="id"> eqVneq</span><span class="id"> 'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> 0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> adde_ge0</span><span class="id"> ?Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> lee_pdivlMr</span><span class="id"> ?fine_gt0//</span><span class="id"> ?lt0e</span><span class="id"> ?Nfg0</span><span class="id"> ?Lnorm_ge0//</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -{1}</span>(<span class="id">@fineK</span><span class="id"> _</span> (<span class="id">'N_p%:E[</span>(<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>)<span class="id">%R]</span><span class="id"> `^</span><span class="id"> p</span>))<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> fin_num_poweR//</span><span class="id"> ge0_fin_numE//</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -</span>(<span class="id">invrK</span> (<span class="id">fine</span><span class="id"> _</span>))<span class="id"> lee_pdivrMl;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> invr_gt0</span><span class="id"> fine_gt0//</span> (<span class="id">poweR_lty</span><span class="id"> _</span><span class="id"> Nfgoo</span>)<span class="id"> andbT</span><span class="id"> poweR_gt0//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> lt0e</span><span class="id"> Nfg0</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> fineK</span><span class="id"> ?ge0_fin_numE</span><span class="id"> ?Lnorm_ge0//</span><span class="id"> =&gt;</span><span class="id"> /le_trans;</span><span class="id"> apply</span>.<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> lee_pdivrMl;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> fine_gt0//</span><span class="id"> poweR_lty//</span><span class="id"> andbT</span><span class="id"> poweR_gt0//</span><span class="id"> lt0e</span><span class="id"> Nfg0</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> fineK//</span><span class="id"> 1?muleC//</span><span class="id"> fin_num_poweR//</span><span class="id"> ge0_fin_numE</span><span class="id"> ?Lnorm_ge0</span>.<br/>
<span class="id">have</span><span class="id"> p0</span><span class="id"> :</span> (<span class="id">0</span><span class="id"> &lt;</span><span class="id"> p</span>)<span class="id">%R</span><span class="gallina-kwd"> by</span><span class="id"> exact:</span> (<span class="id">lt_trans</span><span class="id"> _</span><span class="id"> p1</span>).<br/>
<span class="id">rewrite</span><span class="id"> powR_Lnorm</span><span class="id"> ?gt_eqF//</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> -mulr_powRB1//</span>.<br/>
<span class="id">apply:</span> (<span class="id">@le_trans</span><span class="id"> _</span><span class="id"> _</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\int[mu]_x</span> ((<span class="id">`|f</span><span class="id"> x|</span><span class="id"> +</span><span class="id"> `|g</span><span class="id"> x|</span>)<span class="id"> *</span><span class="id"> `|f</span><span class="id"> x</span><span class="id"> +</span><span class="id"> g</span><span class="id"> x|</span><span class="id"> `^</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>))<span class="id">%:E</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> ge0_le_integral//</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply/measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> apply/measurable_funD</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> exact:</span><span class="id"> measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> ?</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> ler_wpM2r//</span><span class="id"> ?powR_ge0//</span><span class="id"> ler_normD</span>.<br/>
<span class="id">under</span><span class="id"> eq_integral=&gt;</span><span class="id"> ?</span><span class="id"> _</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> mulrDl</span><span class="id"> EFinD</span>.<br/>
<span class="id">rewrite</span><span class="id"> ge0_integralD//;</span><span class="id"> last</span><span class="id"> 4</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> move=&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> mulr_ge0//</span><span class="id"> powR_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> apply:</span><span class="id"> measurableT_comp</span><span class="id"> =&gt;</span><span class="id"> //;</span><span class="id"> apply:</span><span class="id"> measurable_funM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact:</span><span class="id"> measurableT_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
<span class="id">rewrite</span><span class="id"> [leRHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span> (<span class="id">'N_p%:E[f]</span><span class="id"> +</span><span class="id"> 'N_p%:E[g]</span>)<span class="id"> *</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">\int[mu]_x</span> (<span class="id">`|f</span><span class="id"> x</span><span class="id"> +</span><span class="id"> g</span><span class="id"> x|</span><span class="id"> `^</span><span class="id"> p</span>)<span class="id">%:E</span>)<span class="id"> `^</span><span class="id"> `1-</span>(<span class="id">p^-1</span>)).<br/>
&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> muleDl;</span><span class="id"> last</span><span class="id"> 2</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="id"> rewrite</span><span class="id"> fin_num_poweR//</span><span class="id"> -powR_Lnorm</span><span class="id"> ?gt_eqF//</span><span class="id"> fin_num_poweR//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> ge0_fin_numE</span><span class="id"> ?Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> ge0_adde_def//</span><span class="id"> inE</span><span class="id"> Lnorm_ge0</span>.<br/>
&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> leeD</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> pose</span><span class="id"> h</span><span class="id"> :=</span> (<span class="id">@powR</span><span class="id"> R</span><span class="id"> ^~</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>)<span class="id"> \o</span><span class="id"> normr</span><span class="id"> \o</span> (<span class="id">f</span><span class="id"> \+</span><span class="id"> g</span>))<span class="id">%R;</span><span class="id"> pose</span><span class="id"> i</span><span class="id"> :=</span> (<span class="id">f</span><span class="id"> \*</span><span class="id"> h</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> [leLHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 'N_1[i]%R</span>)<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> Lnorm1;</span><span class="id"> apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> normrM</span> (<span class="id">ger0_norm</span> (<span class="id">powR_ge0</span><span class="id"> _</span><span class="id"> _</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> *</span><span class="id"> X]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 'N_</span>(<span class="id">p</span><span class="id"> /</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>))<span class="id">%:E[h]</span>)<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> unlock</span><span class="id"> mulf_eq0</span><span class="id"> gt_eqF//=</span><span class="id"> invr_eq0</span><span class="id"> subr_eq0</span> (<span class="id">gt_eqF</span><span class="id"> p1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> onemV</span><span class="id"> ?gt_eqF//</span><span class="id"> invf_div;</span><span class="id"> apply:</span><span class="id"> congr2;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> []</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> congr</span><span class="id"> EFin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> norm_powR//</span><span class="id"> normr_id</span><span class="id"> -powRrM</span><span class="id"> mulrCA</span><span class="id"> divff</span><span class="id"> ?mulr1//</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> subr_eq0</span><span class="id"> gt_eqF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">@hoelder</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> p</span> (<span class="id">p</span><span class="id"> /</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>)))<span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="id"> exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> divr_gt0//</span><span class="id"> subr_gt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> invf_div</span><span class="id"> -onemV</span><span class="id"> ?gt_eqF//</span><span class="id"> addrCA</span><span class="id"> subrr</span><span class="id"> addr0</span>.<br/>
&nbsp;&nbsp;<span class="id">-</span><span class="id"> pose</span><span class="id"> h</span><span class="id"> :=</span> (<span class="gallina-kwd">fun</span><span class="id"> x</span><span class="id"> =&gt;</span><span class="id"> `|f</span><span class="id"> x</span><span class="id"> +</span><span class="id"> g</span><span class="id"> x|</span><span class="id"> `^</span> (<span class="id">p</span><span class="id"> -</span><span class="id"> 1</span>))<span class="id">%R;</span><span class="id"> pose</span><span class="id"> i</span><span class="id"> :=</span> (<span class="id">g</span><span class="id"> \*</span><span class="id"> h</span>)<span class="id">%R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> [leLHS]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 'N_1[i]</span>)<span class="id">;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> Lnorm1;</span><span class="id"> apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> normrM</span><span class="id"> norm_powR//</span><span class="id"> normr_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> _</span><span class="id"> *</span><span class="id"> X]</span>(_<span class="id"> :</span><span class="id"> _</span><span class="id"> =</span><span class="id"> 'N_</span>((<span class="id">1</span><span class="id"> -</span><span class="id"> p^-1</span>)<span class="id">^-1</span>)<span class="id">%:E[h]</span>)<span class="id">//;</span><span class="id"> last</span><span class="id"> first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> unlock</span><span class="id"> invrK</span><span class="id"> invr_eq0</span><span class="id"> subr_eq0</span><span class="id"> eq_sym</span><span class="id"> invr_eq1</span> (<span class="id">gt_eqF</span><span class="id"> p1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> congr2;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> []</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span><span class="id"> eq_integral</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> congr</span><span class="id"> EFin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite</span><span class="id"> -/</span>(<span class="id">onem</span><span class="id"> p^-1</span>)<span class="id"> onemV</span><span class="id"> ?gt_eqF//</span><span class="id"> norm_powR//</span><span class="id"> normr_id</span><span class="id"> -powRrM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="gallina-kwd">by</span><span class="id"> rewrite</span><span class="id"> invf_div</span><span class="id"> mulrCA</span><span class="id"> divff</span><span class="id"> ?subr_eq0</span><span class="id"> ?gt_eqF//</span><span class="id"> ?mulr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">apply:</span> (<span class="id">le_trans</span> (<span class="id">@hoelder</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> p</span> (<span class="id">1</span><span class="id"> -</span><span class="id"> p^-1</span>)<span class="id">^-1</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span><span class="id"> _</span>))<span class="id"> =&gt;</span><span class="id"> //</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="id"> exact/measurableT_comp_powR/measurableT_comp/measurable_funD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> invr_gt0</span><span class="id"> onem_gt0//</span><span class="id"> invf_lt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">+</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> invrK</span><span class="id"> addrCA</span><span class="id"> subrr</span><span class="id"> addr0</span>.<br/>
<span class="id">rewrite</span><span class="id"> -muleA;</span><span class="id"> congr</span> (_<span class="id"> *</span><span class="id"> _</span>).<br/>
<span class="id">under</span><span class="id"> [X</span><span class="gallina-kwd"> in</span><span class="id"> X</span><span class="id"> *</span><span class="id"> _]eq_integral=&gt;</span><span class="id"> x</span><span class="id"> _</span><span class="id"> do</span><span class="id"> rewrite</span><span class="id"> mulr_powRB1</span><span class="id"> ?subr_gt0//</span>.<br/>
<span class="id">rewrite</span><span class="id"> poweRD;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> poweRD_defE</span><span class="id"> gt_eqF</span><span class="id"> ?implyFb//</span><span class="id"> subr_gt0</span><span class="id"> invf_lt1</span>.<br/>
<span class="id">rewrite</span><span class="id"> poweRe1;</span><span class="id"> last</span><span class="gallina-kwd"> by</span><span class="id"> apply:</span><span class="id"> integral_ge0</span><span class="id"> =&gt;</span><span class="id"> x</span><span class="id"> _;</span><span class="id"> rewrite</span><span class="id"> lee_fin</span><span class="id"> powR_ge0</span>.<br/>
<span class="id">congr</span> (_<span class="id"> *</span><span class="id"> _</span>)<span class="id">;</span><span class="id"> rewrite</span><span class="id"> poweRN</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> unlock</span><span class="id"> gt_eqF//</span><span class="id"> fine_poweR</span>.<br/>
<span class="id">-</span><span class="gallina-kwd"> by</span><span class="id"> rewrite</span><span class="id"> -powR_Lnorm</span><span class="id"> ?gt_eqF//</span><span class="id"> fin_num_poweR//</span><span class="id"> ge0_fin_numE</span><span class="id"> ?Lnorm_ge0</span>.<br/>
Qed.</div></details>
<br/>
<span class="vernacular">End</span><span class="id"> minkowski</span>.<br/>

      <div class="footer"><hr/>Generated by <a href="https://github.com/yoshihiro503/coq2html/">a fork of coq2html</a></div>
    </div>
  </div>
    </main>
</body>
</html>
